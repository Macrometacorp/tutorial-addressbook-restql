{"version":3,"file":"webSocket.web.js","sourceRoot":"","sources":["../../../src/util/webSocket.web.ts"],"names":[],"mappings":";;AAAA,YAAmB,GAAW;IAC1B,MAAM,IAAI,GAAG,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC;IAChC,OAAO;QACH,EAAE,EAAE,UAAU,SAAiB,EAAE,QAAuC;YACpE,MAAM,iBAAiB,GAAG,CAAC,KAAY,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC5D,QAAQ,SAAS,EAAE;gBACf,KAAK,MAAM;oBACP,IAAI,CAAC,MAAM,GAAG,iBAAiB,CAAC;oBAChC,MAAM;gBACV,KAAK,OAAO;oBACR,IAAI,CAAC,OAAO,GAAG,iBAAiB,CAAC;oBACjC,MAAM;gBACV,KAAK,OAAO;oBACR,IAAI,CAAC,OAAO,GAAG,iBAAiB,CAAC;oBACjC,MAAM;gBACV,KAAK,SAAS;oBACV,IAAI,CAAC,SAAS,GAAG,CAAC,KAAmB,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC/D,MAAM;aACb;QACL,CAAC;QACD,IAAI,EAAE,UAAU,GAAW;YACvB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC;QACD,SAAS,EAAE,UAAU,IAAa,EAAE,MAAe;YAC/C,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC7B,CAAC;QACD,aAAa,EAAE,cAAc,OAAO,IAAI,CAAC,CAAC,CAAC;KAC9C,CAAA;AACL,CAAC;AA5BD,gBA4BC","sourcesContent":["export function ws(url: string) {\n    const conn = new WebSocket(url);\n    return {\n        on: function (operation: string, callback: (msg: Event | string) => void) {\n            const operationCallback = (event: Event) => callback(event);\n            switch (operation) {\n                case 'open':\n                    conn.onopen = operationCallback;\n                    break;\n                case 'close':\n                    conn.onclose = operationCallback;\n                    break;\n                case 'error':\n                    conn.onerror = operationCallback;\n                    break;\n                case 'message':\n                    conn.onmessage = (event: MessageEvent) => callback(event.data);\n                    break;\n            }\n        },\n        send: function (msg: string) {\n            conn.send(msg);\n        },\n        terminate: function (code?: number, reason?: string) {\n            conn.close(code, reason);\n        },\n        getConnection: function () { return conn; }\n    }\n}"]}