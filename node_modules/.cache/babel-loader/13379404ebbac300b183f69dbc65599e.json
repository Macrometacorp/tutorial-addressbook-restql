{"ast":null,"code":"import _toConsumableArray from \"/home/guest/workspace/tutorials/tutorial-addressbook-restql/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _ from 'lodash';\nexport var getRandomInt = function getRandomInt() {\n  return Math.floor(Math.random() * Math.floor(99999));\n};\nexport var deleteUtil = function deleteUtil(key, data) {\n  var arr = data.reduce(function (acc, elem) {\n    var accArray = key === elem._key ? acc : [].concat(_toConsumableArray(acc), [elem]);\n    return accArray;\n  }, []);\n  return arr;\n};\nexport var addOrUpdateUtil = function addOrUpdateUtil(payload, data) {\n  var _key = payload._key;\n\n  var newData = _.cloneDeep(data);\n\n  var index = data.findIndex(function (elem) {\n    return elem._key === _key;\n  });\n\n  if (index === -1) {\n    newData.push(payload);\n  } else {\n    newData[index] = payload;\n  }\n\n  return newData;\n};\nexport var getBaseUrl = function getBaseUrl(url) {\n  return \"https://\".concat(url, \"/_tenant/demo/_fabric/_system/restql\");\n};\nexport var getWsUrl = function getWsUrl(url) {\n  return \"wss://\".concat(url, \"/_ws/ws/v2/consumer/persistent/demo/c8local.addressbook/addresses/\").concat(getRandomInt());\n};\nexport var getProducerUrl = function getProducerUrl(url) {\n  return \"wss://\".concat(url, \"/_ws/ws/v2/producer/persistent/demo/c8local.addressbook/addresses\");\n};\nexport var makeRegionData = function makeRegionData(config) {\n  var keys = Object.keys(config);\n  var regionData = keys.reduce(function (acc, key) {\n    var label = key.split(\"_\").reduce(function (acc, labelPart) {\n      return acc + labelPart.toUpperCase() + \" \";\n    }, \"\");\n    var obj = {\n      label: label,\n      value: config[key]\n    };\n    acc.push(obj);\n    return acc;\n  }, []);\n  return regionData;\n};","map":{"version":3,"sources":["/home/guest/workspace/tutorials/tutorial-addressbook-restql/src/util.js"],"names":["_","getRandomInt","Math","floor","random","deleteUtil","key","data","arr","reduce","acc","elem","accArray","_key","addOrUpdateUtil","payload","newData","cloneDeep","index","findIndex","push","getBaseUrl","url","getWsUrl","getProducerUrl","makeRegionData","config","keys","Object","regionData","label","split","labelPart","toUpperCase","obj","value"],"mappings":";AAAA,OAAOA,CAAP,MAAc,QAAd;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAMC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBF,IAAI,CAACC,KAAL,CAAW,KAAX,CAA3B,CAAN;AAAA,CAArB;AAEP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAMC,IAAN,EAAe;AACrC,MAAMC,GAAG,GAAGD,IAAI,CAACE,MAAL,CAAY,UAACC,GAAD,EAAMC,IAAN,EAAe;AACnC,QAAMC,QAAQ,GAAIN,GAAG,KAAKK,IAAI,CAACE,IAAd,GAAsBH,GAAtB,gCAAgCA,GAAhC,IAAqCC,IAArC,EAAjB;AACA,WAAOC,QAAP;AACH,GAHW,EAGT,EAHS,CAAZ;AAIA,SAAOJ,GAAP;AACH,CANM;AAQP,OAAO,IAAMM,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAAUR,IAAV,EAAmB;AAAA,MACtCM,IADsC,GAC7BE,OAD6B,CACtCF,IADsC;;AAE9C,MAAMG,OAAO,GAAGhB,CAAC,CAACiB,SAAF,CAAYV,IAAZ,CAAhB;;AACA,MAAMW,KAAK,GAAGX,IAAI,CAACY,SAAL,CAAe,UAAAR,IAAI;AAAA,WAAIA,IAAI,CAACE,IAAL,KAAcA,IAAlB;AAAA,GAAnB,CAAd;;AACA,MAAIK,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdF,IAAAA,OAAO,CAACI,IAAR,CAAaL,OAAb;AACH,GAFD,MAEO;AACHC,IAAAA,OAAO,CAACE,KAAD,CAAP,GAAiBH,OAAjB;AACH;;AACD,SAAOC,OAAP;AACH,CAVM;AAYP,OAAO,IAAMK,UAAU,GAAG,SAAbA,UAAa,CAAAC,GAAG;AAAA,2BAAeA,GAAf;AAAA,CAAtB;AAEP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAD,GAAG;AAAA,yBAAaA,GAAb,+EAAqFrB,YAAY,EAAjG;AAAA,CAApB;AAEP,OAAO,IAAMuB,cAAc,GAAG,SAAjBA,cAAiB,CAAAF,GAAG;AAAA,yBAAaA,GAAb;AAAA,CAA1B;AAEP,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,MAAM,EAAI;AACpC,MAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,MAAZ,CAAb;AACA,MAAMG,UAAU,GAAGF,IAAI,CAAClB,MAAL,CAAY,UAACC,GAAD,EAAMJ,GAAN,EAAc;AACzC,QAAMwB,KAAK,GAAGxB,GAAG,CAACyB,KAAJ,CAAU,GAAV,EAAetB,MAAf,CAAsB,UAACC,GAAD,EAAMsB,SAAN,EAAoB;AACpD,aAAOtB,GAAG,GAAGsB,SAAS,CAACC,WAAV,EAAN,GAAgC,GAAvC;AACH,KAFa,EAEX,EAFW,CAAd;AAGA,QAAMC,GAAG,GAAG;AAAEJ,MAAAA,KAAK,EAALA,KAAF;AAASK,MAAAA,KAAK,EAAET,MAAM,CAACpB,GAAD;AAAtB,KAAZ;AACAI,IAAAA,GAAG,CAACU,IAAJ,CAASc,GAAT;AACA,WAAOxB,GAAP;AACH,GAPkB,EAOhB,EAPgB,CAAnB;AAQA,SAAOmB,UAAP;AACH,CAXM","sourcesContent":["import _ from 'lodash';\n\nexport const getRandomInt = () => Math.floor(Math.random() * Math.floor(99999));\n\nexport const deleteUtil = (key, data) => {\n    const arr = data.reduce((acc, elem) => {\n        const accArray = (key === elem._key) ? acc : [...acc, elem];\n        return accArray;\n    }, []);\n    return arr;\n}\n\nexport const addOrUpdateUtil = (payload, data) => {\n    const { _key } = payload;\n    const newData = _.cloneDeep(data);\n    const index = data.findIndex(elem => elem._key === _key);\n    if (index === -1) {\n        newData.push(payload);\n    } else {\n        newData[index] = payload;\n    }\n    return newData;\n}\n\nexport const getBaseUrl = url => `https://${url}/_tenant/demo/_fabric/_system/restql`;\n\nexport const getWsUrl = url => `wss://${url}/_ws/ws/v2/consumer/persistent/demo/c8local.addressbook/addresses/${getRandomInt()}`;\n\nexport const getProducerUrl = url => `wss://${url}/_ws/ws/v2/producer/persistent/demo/c8local.addressbook/addresses`;\n\nexport const makeRegionData = config => {\n    const keys = Object.keys(config);\n    const regionData = keys.reduce((acc, key) => {\n        const label = key.split(\"_\").reduce((acc, labelPart) => {\n            return acc + labelPart.toUpperCase() + \" \";\n        }, \"\");\n        const obj = { label, value: config[key] };\n        acc.push(obj);\n        return acc;\n    }, []);\n    return regionData;\n}"]},"metadata":{},"sourceType":"module"}