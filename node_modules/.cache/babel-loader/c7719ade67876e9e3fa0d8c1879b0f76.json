{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction ws(url) {\n  var conn = new WebSocket(url);\n  return {\n    on: function on(operation, callback) {\n      var operationCallback = function operationCallback(event) {\n        return callback(event);\n      };\n\n      switch (operation) {\n        case 'open':\n          conn.onopen = operationCallback;\n          break;\n\n        case 'close':\n          conn.onclose = operationCallback;\n          break;\n\n        case 'error':\n          conn.onerror = operationCallback;\n          break;\n\n        case 'message':\n          conn.onmessage = function (event) {\n            return callback(event.data);\n          };\n\n          break;\n      }\n    },\n    send: function send(msg) {\n      conn.send(msg);\n    },\n    terminate: function terminate(code, reason) {\n      conn.close(code, reason);\n    },\n    getConnection: function getConnection() {\n      return conn;\n    }\n  };\n}\n\nexports.ws = ws;","map":null,"metadata":{},"sourceType":"script"}