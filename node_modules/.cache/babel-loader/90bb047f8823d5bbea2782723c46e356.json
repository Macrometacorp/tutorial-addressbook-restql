{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/guest/workspace/tutorials/tutorial-addressbook-restql/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/guest/workspace/tutorials/tutorial-addressbook-restql/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar User =\n/*#__PURE__*/\nfunction () {\n  function User(connection, user) {\n    _classCallCheck(this, User);\n\n    this.user = \"\";\n    this.urlPrefix = \"/_admin/user\";\n    this.user = user;\n    this._connection = connection;\n  }\n\n  _createClass(User, [{\n    key: \"createUser\",\n    value: function createUser() {\n      var passwd = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var active = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var extra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this._connection.request({\n        method: \"POST\",\n        path: this.urlPrefix,\n        body: {\n          user: this.user,\n          passwd: passwd,\n          active: active,\n          extra: extra\n        }\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"getUserDeatils\",\n    value: function getUserDeatils() {\n      return this._connection.request({\n        method: \"GET\",\n        path: \"/_admin/user/\".concat(this.user)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"deleteUser\",\n    value: function deleteUser() {\n      return this._connection.request({\n        method: \"DELETE\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"_makeModification\",\n    value: function _makeModification(config, methodType) {\n      return this._connection.request({\n        method: methodType,\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user),\n        body: Object.assign({}, config)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"modifyUser\",\n    value: function modifyUser(config) {\n      return this._makeModification(config, \"PATCH\");\n    }\n  }, {\n    key: \"replaceUser\",\n    value: function replaceUser(config) {\n      return this._makeModification(config, \"PUT\");\n    }\n  }, {\n    key: \"getAllDatabases\",\n    value: function getAllDatabases() {\n      var isFullRequested = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return this._connection.request({\n        method: \"GET\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database\"),\n        qs: {\n          full: isFullRequested\n        }\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"getDatabaseAccessLevel\",\n    value: function getDatabaseAccessLevel(databaseName) {\n      return this._connection.request({\n        method: \"GET\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(databaseName)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"getCollectionAccessLevel\",\n    value: function getCollectionAccessLevel(databaseName, collectionName) {\n      return this._connection.request({\n        method: \"GET\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(databaseName, \"/\").concat(collectionName)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"clearDatabaseAccessLevel\",\n    value: function clearDatabaseAccessLevel(fabricName) {\n      return this._connection.request({\n        method: \"DELETE\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(fabricName)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"setDatabaseAccessLevel\",\n    value: function setDatabaseAccessLevel(fabricName, permission) {\n      return this._connection.request({\n        method: \"PUT\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(fabricName),\n        body: {\n          grant: permission\n        }\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"clearCollectionAccessLevel\",\n    value: function clearCollectionAccessLevel(fabricName, collectionName) {\n      return this._connection.request({\n        method: \"DELETE\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(fabricName, \"/\").concat(collectionName)\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }, {\n    key: \"setCollectionAccessLevel\",\n    value: function setCollectionAccessLevel(fabricName, collectionName, permission) {\n      return this._connection.request({\n        method: \"PUT\",\n        path: \"\".concat(this.urlPrefix, \"/\").concat(this.user, \"/database/\").concat(fabricName, \"/\").concat(collectionName),\n        body: {\n          grant: permission\n        }\n      }, function (res) {\n        return res.body;\n      });\n    }\n  }]);\n\n  return User;\n}();\n\nexports.default = User;","map":null,"metadata":{},"sourceType":"script"}